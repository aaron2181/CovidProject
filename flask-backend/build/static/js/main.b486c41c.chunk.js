(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){e.exports=a(239)},173:function(e,t,a){},174:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},175:function(e,t,a){},207:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),o=a(65),r=a.n(o),l=(a(173),a(29)),c=a(30),s=a(32),d=a(31),u=a(33),f=(a(174),a(175),a(47)),m=a.n(f),p=(n.Component,a(49)),h=(n.Component,a(67)),g=a(114),v=a(243),b=a(244),D=a(41),O=a(113),w=a.n(O),E=a(159),j=a(160),F=(a(207),a(161)),k=(a(237),a(238),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={columnDefs:[{headerName:"Patient_ID",field:"Patient_ID",sortable:!0},{headerName:"Confidence",field:"Confidence",sortable:!0},{headerName:"Diagnosis",field:"Diagnosis",sortable:!0}],rowData:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){""!=e.data.Confidence&&""!=e.data.Diagnosis&&this.props.data!=this.state.rowData[this.state.rowData.length-1]&&this.setState({rowData:[].concat(Object(h.a)(this.state.rowData),[e.data])})}},{key:"render",value:function(){return i.a.createElement("div",{className:"ag-theme-balham",style:{height:"500px",width:"600px"}},i.a.createElement(F.AgGridReact,{columnDefs:this.state.columnDefs,rowData:this.state.rowData}))}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).onUpload=function(){var e=a.state,t=e.loadedFiles,n=e.fd;console.log("ON UPLOAD..."),t.map(function(e,t){console.log("Updating...");var i=a.updateLoadedFile(e,Object(g.a)({},e,{isUploading:!0}));m.a.post("/upload",n).then(function(e){console.log(e);var t=e.data;m.a.get("/predict?fileName="+t).then(function(e){console.log("hi"),console.log(e);var t=e.data.diagnosis,n=e.data.confidence;a.setState({dataObject:{Confidence:n,Diagnosis:t,Patient_ID:"1"}})})}).catch(function(e){console.log(e)}),setTimeout(function(){a.updateLoadedFile(i,Object(g.a)({},i,{isUploading:!1}))},3e3)})},a.state={loadedFiles:[],fd:"",confidence:"",diagnosis:"",dataObject:{Patient_ID:"",Confidence:"",Diagnosis:""}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onFileLoad",value:function(e){var t=this,a=e.currentTarget.files[0],n=new FormData;console.log(n);var i=new FileReader;n.append("image",a,a.name),this.setState({fd:n}),i.onload=function(){console.log("IMAGE LOADED: ",i.result);var e={data:i.result,isUploading:!1};t.addLoadedFile(e)},i.onabort=function(){alert("Reading Aborted")},i.onerror=function(){alert("Reading ERROR!")},i.readAsDataURL(a)}},{key:"addLoadedFile",value:function(e){this.setState(function(t){return{loadedFiles:[].concat(Object(h.a)(t.loadedFiles),[e])}})}},{key:"removeLoadedFile",value:function(e){this.setState(function(t){var a=t.loadedFiles;return{loadedFiles:w.a.filter(a,function(t){return t!=e})}})}},{key:"removeAllLoadedFile",value:function(){this.setState({loadedFiles:[]})}},{key:"updateLoadedFile",value:function(e,t){return this.setState(function(a){var n=Object(h.a)(a.loadedFiles);return w.a.find(n,function(a,i){a==e&&(n[i]=t)}),{loadedFiles:n}}),t}},{key:"render",value:function(){var e=this,t=this.state.loadedFiles;return i.a.createElement("div",{className:"inner-container",style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{className:"sub-header"},"Drag an Image"),i.a.createElement("div",{className:"draggable-container"},i.a.createElement("input",{type:"file",id:"file-browser-input",name:"file-browser-input",ref:function(t){return e.fileInput=t},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:this.onFileLoad.bind(this),onChange:this.onFileLoad.bind(this)}),i.a.createElement("div",{className:"files-preview-container ip-scrollbar"},t.map(function(t,a){return i.a.createElement("div",{className:"file",key:a},i.a.createElement("img",{src:t.data}),i.a.createElement("div",{className:"container"},i.a.createElement("span",{className:"progress-bar"},t.isUploading&&i.a.createElement(v.a,null)),i.a.createElement("span",{className:"remove-btn",onClick:function(){return e.removeLoadedFile(t)}},i.a.createElement(E.Icon,{icon:j.remove,size:19}))))})),i.a.createElement("div",{className:"helper-text"},"Drag and Drop Images Here"),i.a.createElement("div",{className:"file-browser-container"},i.a.createElement(b.a,{text:"Browse",intent:D.a.PRIMARY,minimal:!0,onClick:function(){return e.fileInput.click()}}))),i.a.createElement(b.a,{text:"Upload",intent:D.a.SUCCESS,onClick:this.onUpload.bind(this)}),""!=this.state.dataObject.confidence&&""!=this.state.dataObject.diagnosis&&i.a.createElement(k,{data:this.state.dataObject}))}}]),t}(i.a.Component),N=(a(240),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(y,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[168,1,2]]]);
//# sourceMappingURL=main.b486c41c.chunk.js.map